<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Google Cloud Speech API • googleLanguageR</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">googleLanguageR</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/translation.html">
    <span class=" globe"></span>
     
    Translation API
  </a>
</li>
<li>
  <a href="../articles/nlp.html">
    <span class="object object-group"></span>
     
    NLP API
  </a>
</li>
<li>
  <a href="../articles/speech.html">
    <span class=" comment"></span>
     
    Speech API
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Help
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../reference/index.html">Function Reference</a>
    </li>
    <li>
      <a href="../news/index.html">News</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://cloud.google.com/products/machine-learning/">
    <span class="fa fa-google fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/MarkEdmondson1234/googleLanguageR">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://docs.google.com/forms/d/e/1FAIpQLSerjirmMpB3b7LmBs_Vx_XPIE9IrhpCpPg1jUcpfBcivA3uBw/viewform">
    <span class="fa fa-slack fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Google Cloud Speech API</h1>
                        <h4 class="author">Mark Edmondson</h4>
            
            <h4 class="date">2017-08-10</h4>
          </div>

    
    
<div class="contents">
<p>The Google Cloud Speech API enables you to convert audio to text by applying neural network models in an easy to use API. The API recognizes over 80 languages and variants, to support your global user base. You can transcribe the text of users dictating to an application’s microphone or enable command-and-control through voice among many other use cases.</p>
<p>Read more <a href="https://cloud.google.com/speech/">on the Google Cloud Speech Website</a></p>
<p>The Cloud Speech API provides audio transcription. Its accessible via the <code>gl_speech</code> function.</p>
<p>Arguments include:</p>
<ul>
<li>
<code>audio_source</code> - this is a local file in the correct format, or a Google Cloud Storage URI</li>
<li>
<code>encoding</code> - the format of the sound file - <code>LINEAR16</code> is the common <code>.wav</code> format, other formats include <code>FLAC</code> and <code>OGG_OPUS</code>
</li>
<li>
<code>sampleRate</code> - this needs to be set to what your file is recorded at.<br>
</li>
<li>
<code>languageCode</code> - specify the language spoken as a <a href="https://tools.ietf.org/html/bcp47"><code>BCP-47</code> language tag</a>
</li>
<li>
<code>speechContexts</code> - you can supply keywords to help the translation with some context.</li>
</ul>
<div id="demo-for-google-cloud-speech-api" class="section level3">
<h3 class="hasAnchor">
<a href="#demo-for-google-cloud-speech-api" class="anchor"></a>Demo for Google Cloud Speech API</h3>
<p>A test audio file is installed with the package which reads:</p>
<blockquote>
<p>“To administer medicine to animals is frequently a very difficult matter, and yet sometimes it’s necessary to do so”</p>
</blockquote>
<p>The file is sourced from the <a href="http://www-mobile.ecs.soton.ac.uk/newcomms/">University of Southampton’s speech detection</a> group and is fairly difficult for computers to parse, as we see below:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(googleLanguageR)
<span class="co">#&gt; Setting scopes to https://www.googleapis.com/auth/cloud-platform</span>
<span class="co">#&gt; Set any additional scopes via options(googleAuthR.scopes.selected = c('scope1', 'scope2')) before loading library.</span>
<span class="co">#&gt; Successfully authenticated via /Users/mark/dev/auth/auth.json</span>
## get the sample source file
test_audio &lt;-<span class="st"> </span><span class="kw">system.file</span>(<span class="st">"woman1_wb.wav"</span>, <span class="dt">package =</span> <span class="st">"googleLanguageR"</span>)

## its not perfect but...:)
<span class="kw"><a href="../reference/gl_speech.html">gl_speech</a></span>(test_audio)$transcript
<span class="co">#&gt; [1] "to administer medicine to animals Is frequent very difficult matter and yet sometimes it's necessary to do so"</span>

## get alternative transcriptions
<span class="kw"><a href="../reference/gl_speech.html">gl_speech</a></span>(test_audio, <span class="dt">maxAlternatives =</span> 2L)$transcript
<span class="co">#&gt; [1] "to administer medicine to animals Is frequent very difficult matter and yet sometimes it's necessary to do so"     </span>
<span class="co">#&gt; [2] "to administer medicine to animals Is frequent give very difficult matter and yet sometimes it's necessary to do so"</span>

<span class="kw"><a href="../reference/gl_speech.html">gl_speech</a></span>(test_audio, <span class="dt">languageCode =</span> <span class="st">"en-GB"</span>)$transcript
<span class="co">#&gt; [1] "to administer medicine to animals is frequently a very difficult matter and yet sometimes it's necessary to do so"</span>

## help it out with context for "frequently"
<span class="kw"><a href="../reference/gl_speech.html">gl_speech</a></span>(test_audio, 
            <span class="dt">languageCode =</span> <span class="st">"en-GB"</span>, 
            <span class="dt">speechContexts =</span> <span class="kw">list</span>(<span class="dt">phrases =</span> <span class="kw">list</span>(<span class="st">"is frequently a very difficult"</span>)))$transcript
<span class="co">#&gt; [1] "to administer medicine to animals is frequently a very difficult matter and yet sometimes it's necessary to do so"</span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="http://code.markedmondson.me">Mark Edmondson</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
